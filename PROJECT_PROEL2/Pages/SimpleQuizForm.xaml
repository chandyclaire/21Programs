<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:PROJECT_PROEL2"
             x:Class="PROJECT_PROEL2.SimpleQuizForm"
             Title="">

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="20">

            <Label Text="ðŸ§  Simple Quiz"
                   FontSize="28"
                   FontAttributes="Bold"
                   TextColor="#CD5656"
                   HorizontalOptions="Center"
                   Margin="0,10" />

            <Border Stroke="#CD5656"
                    StrokeThickness="2"
                    StrokeShape="RoundRectangle 25"
                    BackgroundColor="White"
                    Padding="20">

                <VerticalStackLayout Spacing="20">

                    <CarouselView x:Name="quizCarousel"
                                  ItemsSource="{Binding Questions}"
                                  IndicatorView="indicator"
                                  IsBounceEnabled="False"
                                  Loop="False"
                                  HorizontalOptions="FillAndExpand"
                                  HeightRequest="450">

                        <CarouselView.ItemTemplate>
                            <DataTemplate>
                                <ScrollView>
                                    <VerticalStackLayout Padding="10" Spacing="20">

                                        <Label Text="{Binding QuestionText}"
                                               FontSize="20"
                                               TextColor="Black"
                                               FontAttributes="Bold"
                                               HorizontalOptions="Center"
                                               HorizontalTextAlignment="Center"
                                               Margin="0,0,0,10" />

                                        <VerticalStackLayout BindableLayout.ItemsSource="{Binding Options}" Spacing="12">
                                            <BindableLayout.ItemTemplate>
                                                <DataTemplate>
                                                    <Frame Padding="10"
                                                           BorderColor="#CD5656"
                                                           CornerRadius="10"
                                                           BackgroundColor="#FFF5F5"
                                                           HasShadow="False">
                                                        <RadioButton Content="{Binding .}"
                                                                     Value="{Binding .}"
                                                                     GroupName="{Binding Id, Source={RelativeSource AncestorType={x:Type local:SimpleQuizForm}}}"
                                                                     CheckedChanged="OnOptionChecked"
                                                                     TextColor="Black"
                                                                     FontSize="16" />
                                                    </Frame>
                                                </DataTemplate>
                                            </BindableLayout.ItemTemplate>
                                        </VerticalStackLayout>

                                    </VerticalStackLayout>
                                </ScrollView>
                            </DataTemplate>
                        </CarouselView.ItemTemplate>
                    </CarouselView>

                    <IndicatorView x:Name="indicator"
                                   HorizontalOptions="Center"
                                   IndicatorsShape="Circle"
                                   IndicatorColor="#B0BEC5"
                                   SelectedIndicatorColor="#CD5656"
                                   IndicatorSize="10"
                                   Margin="0,0,0,10" />

                    <HorizontalStackLayout HorizontalOptions="Center" Spacing="15">
                        <Button Text="Previous"
                                Clicked="OnPreviousClicked"
                                BackgroundColor="#E0E0E0"
                                TextColor="Black"
                                WidthRequest="100"
                                CornerRadius="10" />

                        <Button Text="Next"
                                Clicked="OnNextClicked"
                                BackgroundColor="#2196F3"
                                TextColor="White"
                                WidthRequest="100"
                                CornerRadius="10" />

                        <Button Text="Submit"
                                Clicked="OnSubmitQuiz"
                                BackgroundColor="#4CAF50"
                                TextColor="White"
                                WidthRequest="100"
                                CornerRadius="10" />
                    </HorizontalStackLayout>

                </VerticalStackLayout>
            </Border>
        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
