<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:PROJECT_PROEL2"
             x:Class="PROJECT_PROEL2.TodoListForm"
             Title="">

    <ContentPage.Resources>
        <ResourceDictionary>
            <local:BoolToColorConverter x:Key="BoolToColorConverter" />
        </ResourceDictionary>
    </ContentPage.Resources>

    <ScrollView>
        <VerticalStackLayout Padding="20" Spacing="25">

            <Label Text="ðŸ“ To-Do List"
                   FontAttributes="Bold"
                   FontSize="36"
                   TextColor="#CD5656"
                   HorizontalOptions="Center" />

            <Border Stroke="#CD5656"
                    StrokeThickness="2"
                    StrokeShape="RoundRectangle 20"
                    BackgroundColor="White"
                    Padding="15">

                <VerticalStackLayout Spacing="20">

                    <ListView x:Name="listView"
                              SelectionMode="Single"
                              HasUnevenRows="True"
                              ItemSelected="OnItemSelected"
                              HeightRequest="400"
                              SeparatorVisibility="Default">
                        <ListView.ItemTemplate>
                            <DataTemplate>
                                <ViewCell>
                                    <Frame Padding="15"
                                           HasShadow="False"
                                           BackgroundColor="{Binding IsSelected, Converter={StaticResource BoolToColorConverter}}"
                                           CornerRadius="10"
                                           Margin="0,5">
                                        <Label Text="{Binding BulletTask}"
                                               TextColor="#333333"
                                               FontSize="18" />
                                    </Frame>
                                </ViewCell>
                            </DataTemplate>
                        </ListView.ItemTemplate>
                    </ListView>

                    <HorizontalStackLayout HorizontalOptions="Center" Spacing="20">
                        <Button Text="Remove"
                                WidthRequest="140"
                                HeightRequest="45"
                                BackgroundColor="#CD5656"
                                TextColor="White"
                                FontAttributes="Bold"
                                CornerRadius="12"
                                Clicked="RemoveOrCancel"
                                x:Name="RemoveOrCancelbtn"/>
                        <Button Text="Add Task"
                                WidthRequest="140"
                                HeightRequest="45"
                                BackgroundColor="#4CAF50"
                                TextColor="White"
                                FontAttributes="Bold"
                                CornerRadius="12"
                                Clicked="AddTask"
                                x:Name="addTaskButton"/>
                    </HorizontalStackLayout>

                    <Border Stroke="#CD5656"
                            StrokeThickness="2"
                            StrokeShape="RoundRectangle 15"
                            BackgroundColor="#FFF5F5"
                            Padding="12"
                            Margin="0,10,0,0">
                        <Entry x:Name="newTaskEntry"
                               Placeholder="Enter new task"
                               TextColor="#333333"
                               FontSize="16"
                               HorizontalTextAlignment="Start"
                               IsVisible="False" />
                    </Border>

                </VerticalStackLayout>
            </Border>

        </VerticalStackLayout>
    </ScrollView>
</ContentPage>
